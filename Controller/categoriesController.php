<?php/* * To change this license header, choose License Headers in Project Properties. * To change this template file, choose Tools | Templates * and open the template in the editor. */class CategoriesController extends Controller {    public function catAction($slug) {        //recuperation des produits en fonction du slug        $produits = Produits::getProductByCategorieSlug($slug);        $categorie = Categories::getCategorieBySlug($slug);				$kiffs = Produits::getKiffs();        		if (!empty($categorie)) {            $this->moteur_vue->loadVue('index/index.php', array(                'produits' => $produits,                'categorie' => $categorie,				'kiffs' => $kiffs            ));        } else {            $this->moteur_vue->redirect('pageNotFound', 'index');        }    }        public function indexAction($slug) {        //recuperer les informations sur la categorie        $categorie = Categories::getAllCategorieBySlug($slug);        //recuperer les produit de la categorie        $produits = Produits::getProduitsByIdCategorie($categorie[0]['id']);				$kiffs = Produits::getKiffs();				$best_products = Produits::getSuccessByIdCategorie($categorie[0]['id']);		$news = News::getNewsByIdCategorie($categorie[0]['id']);		$params['categorie']=$categorie;		$params['news'] = $news;        $params['produits'] = $produits;        $params['bestProduits'] = $best_products;        $params['kiffs'] = $kiffs;               //rendre la bonne vue        $this->moteur_vue->loadVue('index/index.php', $params);    }}